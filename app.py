from flask import Flask, render_template, request

app = Flask(__name__)

# Список вопросов и ответов
questions = [
    "Мне интересно разбираться, как работают компьютеры и технологии.",
    "Мне нравится решать сложные задачи с помощью программирования, интересно работать с алгоритмами и логикой.",
    "Мне интересно проверять, как работает приложение или сайт и находить, что можно улучшить.",
    "Мне нравится искать ошибки и недочеты в играх и приложениях.",
    "Мне интересно анализировать данные и находить в них закономерности.",
    "Мне интересно изучать, что нужно пользователям и предлагать решения для улучшения продукта.",
    "Мне нравится рисовать, меня вдохновляет создавать красивые картинки или придумывать дизайн.",
    "Мне бы хотелось разрабатывать внешний вид сайтов, приложений или игр.",
    "Мне нравится организовывать работу других людей, следить за тем, чтобы все задачи выполнялись вовремя.",
    "Мне хотелось бы помогать команде достигать целей и решать проблемы."
]

roles = {
    "developer": ["Мне интересно разбираться, как работают компьютеры и технологии.",
                  "Мне нравится решать сложные задачи с помощью программирования, интересно работать с алгоритмами и логикой."],
    "tester": ["Мне интересно проверять, как работает приложение или сайт и находить, что можно улучшить.",
               "Мне нравится искать ошибки и недочеты в играх и приложениях."],
    "analyst": ["Мне интересно анализировать данные и находить в них закономерности.",
                "Мне интересно изучать, что нужно пользователям и предлагать решения для улучшения продукта."],
    "designer": ["Мне нравится рисовать, меня вдохновляет создавать красивые картинки или придумывать дизайн.",
                 "Мне бы хотелось разрабатывать внешний вид сайтов, приложений или игр."],
    "manager": [
        "Мне нравится организовывать работу других людей, следить за тем, чтобы все задачи выполнялись вовремя.",
        "Мне хотелось бы помогать команде достигать целей и решать проблемы."]
}

role_descriptions = {
    "developer": "Ты любишь создавать что-то новое с помощью кода! Тебе нравится решать сложные задачи и разбираться в технологиях.",
    "tester": "Тебе нравится искать ошибки и делать продукт лучше. Ты внимателен к деталям и любишь, когда всё работает идеально.",
    "analyst": "Ты — исследователь и стратег! Анализируешь данные, выявляешь закономерности и помогаешь принимать решения.",
    "designer": "Ты — творец! Создаешь красивые и удобные интерфейсы, делаешь продукт привлекательным для пользователей.",
    "manager": "Ты — организатор и лидер! Работаешь с людьми, следишь за сроками и помогаешь команде достигать целей."
}


@app.route('/')
def index():
    return render_template('index.html', questions=questions)


@app.route('/result', methods=['POST'])
def result():
    answers = [request.form.get(f'q{i}') for i in range(1, len(questions) + 1)]

    # Подсчет баллов для каждой роли
    scores = {role: sum(1 for q in questions if q in answers) for role, questions in roles.items()}
    best_role = max(scores, key=scores.get)
    explanation = role_descriptions[best_role]

    return render_template('result.html', role=best_role, explanation=explanation)


if __name__ == '__main__':
    app.run(debug=True)
